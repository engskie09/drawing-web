<h1 mat-dialog-title>Requests</h1>
<div mat-dialog-content>
  <table mat-table [dataSource]="requests" class='request-drawings__table'>
    <ng-container matColumnDef='index'>
      <th mat-header-cell *matHeaderCellDef>No.</th>
      <td mat-cell *matCellDef="let request; let i = index;">{{ i + 1 }}</td>
    </ng-container>
  
    <ng-container matColumnDef='subject'>
      <th mat-header-cell *matHeaderCellDef>Subject</th>
      <td mat-cell *matCellDef="let drawing;">{{ drawing.subject }}</td>
    </ng-container>

    <ng-container matColumnDef='requestDate'>
      <th mat-header-cell *matHeaderCellDef>Request Date</th>
      <td mat-cell *matCellDef='let task;'>{{ task.requestDate | date:'dd-MM-yyyy' }}</td>
    </ng-container>

    <ng-container matColumnDef='status'>
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef='let task;'>{{ task.status }}</td>
    </ng-container>

    <ng-container matColumnDef='targetDate'>
      <th mat-header-cell *matHeaderCellDef>Target Date</th>
      <td mat-cell *matCellDef='let task;'>{{ task.targetDate | date:'dd-MM-yyyy' }}</td>
    </ng-container>

    <ng-container matColumnDef='drafter'>
      <th mat-header-cell *matHeaderCellDef>Assigned To:</th>
      <td mat-cell *matCellDef="let drawing;">{{ drawing.assignedTo.fullname }}</td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
  </table> 
  
  <div class='no-data' *ngIf='requests.length == 0 && !loading'>
    <p>No requests found...</p>
  </div>
  
  <content-loader [style]='{width: "100%"}' height="150" *ngIf='loading'>
    <svg:rect x="10" y="8" rx="3" ry="3" width="100%" height="5" />
    <svg:rect x="10" y="33" rx="3" ry="3" width="100%" height="5" />
    <svg:rect x="10" y="58" rx="3" ry="3" width="100%" height="5" />
    <svg:rect x="10" y="83" rx="3" ry="3" width="100%" height="5" />
    <svg:rect x="10" y="108" rx="3" ry="3" width="100%" height="5" />
  </content-loader>
</div>
<div mat-dialog-actions>
  <button mat-raised-button color='primary' (click)="closeDialog()">Close</button>
</div>